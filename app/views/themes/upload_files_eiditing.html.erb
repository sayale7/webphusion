<%= form_tag upload_files_update_path(:the_path => @the_path, :theme => @theme.id) do %>
	<%= text_area_tag 'file_edit', @content, :id => 'code' %>
	<p><%= submit_tag t('common.save') %></p>
<% end %>
<%= javascript '/codemirror/js/codemirror' %>
<style type="text/css"> 
.CodeMirror-line-numbers {
	width: 2.2em;
	color: #aaa;
	background-color: #eee;
	text-align: right;
	padding-right: .3em;
	font-size: 10pt;
	font-family: monospace;
	padding-top: .4em;
}
</style> 

<script type="text/javascript"> 
CodeMirror.fromTextArea('code', {
	height: "600px",
	parserfile: "parseliquid.js"  ,
	stylesheet: ["/codemirror/css/xmlcolors.css", "/stylesheets/liquidcolors.css"],
	path: "/codemirror/js/",
	textWrapping: false,
	lineNumbers: true
});
</script>